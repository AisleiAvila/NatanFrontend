<ion-app>
  <!-- Header -->
  <ion-header [translucent]="true">
    <ion-toolbar color="primary">
      <ion-title>
        <ion-icon name="construct-outline"></ion-icon>
        Natan Construtora
      </ion-title>
      <ion-buttons slot="end">
        <ion-button (click)="toggleLanguage()">
          {{ currentLanguage === 'pt' ? 'EN' : 'PT' }}
        </ion-button>
        <ion-button (click)="showLogin()" *ngIf="!currentUser">
          <ion-icon name="person-outline"></ion-icon>
          Login
        </ion-button>
        <ion-button (click)="logout()" *ngIf="currentUser">
          <ion-icon name="log-out-outline"></ion-icon>
          Sair
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>

  <!-- Main Content -->
  <ion-content [fullscreen]="true">
    <!-- Landing Page for Visitors -->
    <div *ngIf="!currentUser" class="landing-page">
      <!-- Hero Section -->
      <div class="hero-section">
        <div class="hero-content">
          <h1>{{ translate('welcome_title') }}</h1>
          <p>{{ translate('welcome_subtitle') }}</p>
          <ion-button 
            size="large" 
            color="primary" 
            (click)="showServiceRequest()"
            class="cta-button">
            <ion-icon name="add-circle-outline" slot="start"></ion-icon>
            {{ translate('request_service') }}
          </ion-button>
        </div>
      </div>

      <!-- Services Section -->
      <div class="services-section">
        <h2>{{ translate('our_services') }}</h2>
        <ion-grid>
          <ion-row>
            <ion-col size="12" size-md="6" size-lg="4" *ngFor="let service of featuredServices">
              <ion-card>
                <ion-card-header>
                  <ion-card-title>{{ service.name }}</ion-card-title>
                </ion-card-header>
                <ion-card-content>
                  <p>{{ service.description }}</p>
                  <ion-button 
                    fill="outline" 
                    size="small"
                    (click)="requestService(service.id)">
                    {{ translate('request_this_service') }}
                  </ion-button>
                </ion-card-content>
              </ion-card>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>

      <!-- Areas Section -->
      <div class="areas-section">
        <h2>{{ translate('service_areas') }}</h2>
        <ion-grid>
          <ion-row>
            <ion-col size="4" *ngFor="let area of serviceAreas">
              <div class="area-card">
                <ion-icon [name]="area.icon" color="primary"></ion-icon>
                <h3>{{ area.name }}</h3>
              </div>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>

      <!-- Contact Section -->
      <div class="contact-section">
        <h2>{{ translate('contact_us') }}</h2>
        <ion-grid>
          <ion-row>
            <ion-col size="12" size-md="6">
              <ion-item>
                <ion-icon name="mail-outline" slot="start"></ion-icon>
                <ion-label>contato@natanconstrutora.com</ion-label>
              </ion-item>
              <ion-item>
                <ion-icon name="call-outline" slot="start"></ion-icon>
                <ion-label>+351 234 567 890</ion-label>
              </ion-item>
              <ion-item button (click)="openWhatsApp()">
                <ion-icon name="logo-whatsapp" slot="start" color="success"></ion-icon>
                <ion-label>{{ translate('whatsapp_contact') }}</ion-label>
              </ion-item>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>
    </div>

    <!-- Dashboard for Logged Users -->
    <div *ngIf="currentUser" class="dashboard">
      <router-outlet></router-outlet>
    </div>
  </ion-content>
</ion-app>
